# 存储器
存储器是计算机系统中的记忆设备，用来存放程序和数据

# P70 存储器分类
按照存储器在计算机中的功能，有以下分类

![存储器分类](https://raw.githubusercontent.com/Juston007/ComputerOrganization/main/Review/img/chapter3/%E5%AD%98%E5%82%A8%E5%99%A8%E5%88%86%E7%B1%BB.jpg)

* 主存储器；简称主存或内存；和CPU直接交换信息
* 辅助存储器；简称辅存和外存

# P69 按存取方式分类
## RAM（易失的）
任何一个存储单元都可随机存取，存取时间与存储单元无关，具有易失性

分为SRAM和DRAM两种

1. SRAM；静态随机访问存储器；(Static Random Aceess Memory)；电容实现；需要不停的充电

2. DRAM；动态随机访问存储器；(Dynamic Random Aceess Memory)；触发器实现；只需要在改变其状态的时候充电

## ROM（不易失的）
ROM一旦有了信息，则不能轻易改变，即使断电也不会丢失

分为MROM、PROM、EPROM和EEPROM
* MROM；Mask ROM；掩模只读存储器
* PROM；Programmable ROM；可编程只读存储器
* EPROM；Erasable Programmable ROM；可擦除可编程只读存储器
* EEPROM；Electrically-Erasable Programmable ROM；电可擦除可编程只读存储器

# P73 主存中存储单元地址的分配
地址线24根，按字节寻址范围为2^24 =16M；

若字长32位，则一个字有4个字节，所以要留2根地址线指出该字中的哪个字节 `[00,01,10,11]` ，即寻址范围为 2^(24-2) = 4M；

若字长16位，则一个字有2个字节，所以要留1根地址线指出该字中的哪个字节 `[00,01]` ，即寻址范围为 2^(24-1) = 8M；

# P73 主存的技术指标
## 存储容量
存储容量指的是主存能存放二进制代码的总位数

存储容量 = 存储字数 * 存储字长

存储字数：存储单元的个数，与MAR的位数有关

存储字长：一个存储单元包含二进制代码的长度

## 存储速度
存储速度是由存取时间和存取周期来表示的



* 存取时间Ta；从启动一次存储器操作到完成该操作所花费的时间，分为读入时间和写入时间
* 存储周期Tm；存储器进行连续两次独立访问存储器操作之间所需要的最小时间间隔，通常存储周期大于存取时间

## 存储器带宽
存储器带宽表示单位时间内存储器存取的数据量

单位是字/秒、字节/秒、位/秒

带宽 = 数据宽度 / 存储周期

为了提高存储器的带宽，可以采用以下措施
* 缩短存取周期
* 增加存储子长
* 增加存储体

单位的转换
* 秒s、毫秒ms、微秒us、纳秒ns
* 1s = 1000ms = 1000,000us = 1000,000,000ns
* 赫兹Hz、千赫兹KHz、兆赫兹MHz、吉赫兹GHz
* 1GHz = 1000MHz = 1000,000KHz = 1000,000,000Hz
* 1s = 1hz、1ms = 1k、1us = 1m、1ns = 1000m

## 单位成本
每位价格 = 总成本 / 总容量

# P86 DRAM的刷新
## 刷新周期
电容上的电荷只能停留1~2ms，所以刷新周期一般为2ms

每次以行为单位进行刷新，硬件支持刷新

## 分散刷新
对每行存储单元的刷新分布到每个存取周期内完成

其中把机器的存取周期（记为tc），分成两个部分，前半段的tm用来记录读写，后半段（tr）用来刷新，即tc = tm + tr

## 集中刷新
在刷新周期内，对全部存储单元集中一段时间进行刷新（逐行进行），此时必须停止读写操作。

系统的存取周期还是0.5us；

有一段时间专门用于刷新，无法访问存储器，称为访问“死区”

## 异步刷新
2ms内每行刷新一次即可

2ms内需要产生128次（假设行数）刷新请求；每隔2ms/128（假设行数） = 15.6us一次

每15.6内有0.5us的“死时间”

既能缩短死时间，又能充分利用刷新周期，提高刷新频率

# P88 基本器件为MOS和TTL

# P91 存储器与CPU的连接
## P94 例4.1
## P94 例4.2
## P94 例4.3

# P100 存储器的校验
## 例题4.4
## 例题4.5

# 提高访存速度的措施
# 例4.6